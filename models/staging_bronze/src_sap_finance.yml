version: 2

sources:
  - name: sap_raw_data
    description: "Raw data landing zone for SAP Finance exports."
    database: FINANCE_ANALYTICS_DEV
    schema: BRONZE_RAW_SAP
    tables:
      - name: 'sap_finance_inbound' # logical name in dbt
        identifier: 'SAP_FINANCE_INBOUND' # Physical name in snowflake
        description: "Initial landing table for MFT-ingested CSV files containing raw finance transactions."
        columns:
          - name: TRANSACTION_ID
            description: "The unique identifier for the transaction. Note: Contains duplicates in raw source."
          
          - name: TXN_DATE
            description: "The date the transaction was recorded. Ingested as STRING due to mixed formats (YYYY-MM-DD and MM/DD/YYYY)."
          
          - name: COMPANY_CODE
            description: "The SAP code representing the legal entity. Some values may be NULL in raw data."
          
          - name: ACCOUNT_ID
            description: "The General Ledger (GL) account number associated with the transaction."
          
          - name: POSTED_AMOUNT
            description: "The financial value of the transaction. Ingested as STRING to preserve SAP-style brackets '()' for negative values."
          
          - name: CURRENCY
            description: "The ISO currency code (e.g., USD, EUR)."